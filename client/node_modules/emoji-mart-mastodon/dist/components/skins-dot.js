"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _extends2 = _interopRequireDefault(require("@babel/runtime/helpers/extends"));

var _react = _interopRequireDefault(require("react"));

var _propTypes = _interopRequireDefault(require("prop-types"));

var _skins = _interopRequireDefault(require("./skins"));

class SkinsDot extends _skins.default {
  constructor(props) {
    super(props);
    this.handleClick = this.handleClick.bind(this);
    this.handleKeyDown = this.handleKeyDown.bind(this);
  }

  handleKeyDown(event) {
    // if either enter or space is pressed, then execute
    if (event.keyCode === 13 || event.keyCode === 32) {
      event.preventDefault();
      this.handleClick(event);
    }
  }

  render() {
    const {
      skin,
      i18n
    } = this.props;
    const {
      opened
    } = this.state;
    const skinToneNodes = [];

    for (let skinTone = 1; skinTone <= 6; skinTone++) {
      const selected = skinTone === skin;
      const visible = opened || selected;
      skinToneNodes.push( /*#__PURE__*/_react.default.createElement("span", (0, _extends2.default)({
        key: "skin-tone-".concat(skinTone),
        className: "emoji-mart-skin-swatch".concat(selected ? ' selected' : ''),
        "aria-label": i18n.skintones[skinTone],
        "aria-hidden": !visible
      }, opened ? {
        role: 'menuitem'
      } : {}), /*#__PURE__*/_react.default.createElement("span", (0, _extends2.default)({
        onClick: this.handleClick,
        onKeyDown: this.handleKeyDown,
        role: "button"
      }, selected ? {
        'aria-haspopup': true,
        'aria-expanded': !!opened
      } : {}, opened ? {
        'aria-pressed': !!selected
      } : {}, {
        tabIndex: visible ? '0' : '',
        "aria-label": i18n.skintones[skinTone],
        title: i18n.skintones[skinTone],
        "data-skin": skinTone,
        className: "emoji-mart-skin emoji-mart-skin-tone-".concat(skinTone)
      }))));
    }

    return /*#__PURE__*/_react.default.createElement("section", {
      className: "emoji-mart-skin-swatches".concat(opened ? ' opened' : ''),
      "aria-label": i18n.skintext
    }, /*#__PURE__*/_react.default.createElement("div", opened ? {
      role: 'menubar'
    } : {}, skinToneNodes));
  }

}

exports.default = SkinsDot;
SkinsDot.propTypes
/* remove-proptypes */
= {
  onChange: _propTypes.default.func,
  skin: _propTypes.default.number.isRequired,
  i18n: _propTypes.default.object
};
SkinsDot.defaultProps = {
  onChange: () => {}
};